void 0===Craft.SocialLogin&&(Craft.SocialLogin={}),function($){Craft.SocialLogin.CpLoginForm=Garnish.Base.extend({init:function(n){const o=this;this.html='<div class="social-login-cp-container">'+n.html+"</div>",this.bindSubmitButtons();const i=$(".login-form-container");var t;i.length&&this.renderLoginForm(i),new MutationObserver((function(n){n.forEach((function(n){n.addedNodes.forEach((function(n){o.hasClasses(n,["modal","login-modal","fitted"])&&o.renderLoginModalForm(n)}))}))})).observe(document.body,{childList:!0,subtree:!0})},renderLoginForm(n){$(".social-login-cp-container").length||$(this.html).insertAfter(n)},renderLoginModalForm(n){const o=$(n),i=o.find(".body .login-modal-form .login-container");$(".social-login-cp-container").length||($(this.html).insertAfter(i),o.trigger("updateSizeAndPosition"),$(window).trigger("resize"))},bindSubmitButtons(){$(document).on("mouseup","button[data-social-provider]",(async function(n){n.preventDefault();let o=$(n.currentTarget),i=$("form#x");const{data:t}=await Craft.sendActionRequest("GET","users/session-info"),e={action:"social-login/auth/login",redirect:null,params:{loginName:Craft.username,provider:o.data("social-provider")}};e.params[t.csrfTokenName]=t.csrfTokenValue,Craft.submitForm(i,e)}))},hasClasses:(n,o)=>!(!n||!n.classList)&&o.every((o=>n.classList.contains(o)))})}(jQuery);
//# sourceMappingURL=social-login.js.map