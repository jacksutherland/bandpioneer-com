{"version":3,"file":"186.js","mappings":"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","sources":["webpack:///../../../../../node_modules/codemirror-graphql/esm/utils/info-addon.js"],"sourcesContent":["import CodeMirror from 'codemirror';\nCodeMirror.defineOption('info', false, (cm, options, old) => {\n    if (old && old !== CodeMirror.Init) {\n        const oldOnMouseOver = cm.state.info.onMouseOver;\n        CodeMirror.off(cm.getWrapperElement(), 'mouseover', oldOnMouseOver);\n        clearTimeout(cm.state.info.hoverTimeout);\n        delete cm.state.info;\n    }\n    if (options) {\n        const state = (cm.state.info = createState(options));\n        state.onMouseOver = onMouseOver.bind(null, cm);\n        CodeMirror.on(cm.getWrapperElement(), 'mouseover', state.onMouseOver);\n    }\n});\nfunction createState(options) {\n    return {\n        options: options instanceof Function\n            ? { render: options }\n            : options === true\n                ? {}\n                : options,\n    };\n}\nfunction getHoverTime(cm) {\n    const { options } = cm.state.info;\n    return (options === null || options === void 0 ? void 0 : options.hoverTime) || 500;\n}\nfunction onMouseOver(cm, e) {\n    const state = cm.state.info;\n    const target = e.target || e.srcElement;\n    if (!(target instanceof HTMLElement)) {\n        return;\n    }\n    if (target.nodeName !== 'SPAN' || state.hoverTimeout !== undefined) {\n        return;\n    }\n    const box = target.getBoundingClientRect();\n    const onMouseMove = function () {\n        clearTimeout(state.hoverTimeout);\n        state.hoverTimeout = setTimeout(onHover, hoverTime);\n    };\n    const onMouseOut = function () {\n        CodeMirror.off(document, 'mousemove', onMouseMove);\n        CodeMirror.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n        clearTimeout(state.hoverTimeout);\n        state.hoverTimeout = undefined;\n    };\n    const onHover = function () {\n        CodeMirror.off(document, 'mousemove', onMouseMove);\n        CodeMirror.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n        state.hoverTimeout = undefined;\n        onMouseHover(cm, box);\n    };\n    const hoverTime = getHoverTime(cm);\n    state.hoverTimeout = setTimeout(onHover, hoverTime);\n    CodeMirror.on(document, 'mousemove', onMouseMove);\n    CodeMirror.on(cm.getWrapperElement(), 'mouseout', onMouseOut);\n}\nfunction onMouseHover(cm, box) {\n    const pos = cm.coordsChar({\n        left: (box.left + box.right) / 2,\n        top: (box.top + box.bottom) / 2,\n    }, 'window');\n    const state = cm.state.info;\n    const { options } = state;\n    const render = options.render || cm.getHelper(pos, 'info');\n    if (render) {\n        const token = cm.getTokenAt(pos, true);\n        if (token) {\n            const info = render(token, options, cm, pos);\n            if (info) {\n                showPopup(cm, box, info);\n            }\n        }\n    }\n}\nfunction showPopup(cm, box, info) {\n    const popup = document.createElement('div');\n    popup.className = 'CodeMirror-info';\n    popup.append(info);\n    document.body.append(popup);\n    const popupBox = popup.getBoundingClientRect();\n    const popupStyle = window.getComputedStyle(popup);\n    const popupWidth = popupBox.right -\n        popupBox.left +\n        parseFloat(popupStyle.marginLeft) +\n        parseFloat(popupStyle.marginRight);\n    const popupHeight = popupBox.bottom -\n        popupBox.top +\n        parseFloat(popupStyle.marginTop) +\n        parseFloat(popupStyle.marginBottom);\n    let topPos = box.bottom;\n    if (popupHeight > window.innerHeight - box.bottom - 15 &&\n        box.top > window.innerHeight - box.bottom) {\n        topPos = box.top - popupHeight;\n    }\n    if (topPos < 0) {\n        topPos = box.bottom;\n    }\n    let leftPos = Math.max(0, window.innerWidth - popupWidth - 15);\n    if (leftPos > box.left) {\n        leftPos = box.left;\n    }\n    popup.style.opacity = '1';\n    popup.style.top = topPos + 'px';\n    popup.style.left = leftPos + 'px';\n    let popupTimeout;\n    const onMouseOverPopup = function () {\n        clearTimeout(popupTimeout);\n    };\n    const onMouseOut = function () {\n        clearTimeout(popupTimeout);\n        popupTimeout = setTimeout(hidePopup, 200);\n    };\n    const hidePopup = function () {\n        CodeMirror.off(popup, 'mouseover', onMouseOverPopup);\n        CodeMirror.off(popup, 'mouseout', onMouseOut);\n        CodeMirror.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n        if (popup.style.opacity) {\n            popup.style.opacity = '0';\n            setTimeout(() => {\n                if (popup.parentNode) {\n                    popup.remove();\n                }\n            }, 600);\n        }\n        else if (popup.parentNode) {\n            popup.remove();\n        }\n    };\n    CodeMirror.on(popup, 'mouseover', onMouseOverPopup);\n    CodeMirror.on(popup, 'mouseout', onMouseOut);\n    CodeMirror.on(cm.getWrapperElement(), 'mouseout', onMouseOut);\n}\n//# sourceMappingURL=info-addon.js.map"],"names":["onMouseOver","cm","e","state","info","target","srcElement","HTMLElement","nodeName","undefined","hoverTimeout","box","getBoundingClientRect","onMouseMove","clearTimeout","setTimeout","onHover","hoverTime","onMouseOut","document","getWrapperElement","pos","coordsChar","left","right","top","bottom","options","render","getHelper","token","getTokenAt","popup","createElement","className","append","body","popupBox","popupStyle","window","getComputedStyle","popupWidth","parseFloat","marginLeft","marginRight","popupHeight","marginTop","marginBottom","topPos","innerHeight","popupTimeout","leftPos","Math","max","innerWidth","style","opacity","onMouseOverPopup","hidePopup","parentNode","remove","showPopup","onMouseHover","getHoverTime","old","oldOnMouseOver","Function","createState","bind"],"sourceRoot":""}